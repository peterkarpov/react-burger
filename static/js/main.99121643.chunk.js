(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{102:function(e,t,n){e.exports={"modal-background":"ModalOverlay_modal-background__qk80X"}},111:function(e,t,n){},12:function(e,t,n){e.exports={"ingredient-info":"IngredientDetails_ingredient-info__6loXl","modal-header":"IngredientDetails_modal-header__3PDwV","close-icon-wrapper":"IngredientDetails_close-icon-wrapper__13OnE","icon-wrapper":"IngredientDetails_icon-wrapper__1D8lD","composition-list":"IngredientDetails_composition-list__1xeOY","composition-item":"IngredientDetails_composition-item__20BeZ",title:"IngredientDetails_title__18oGt",value:"IngredientDetails_value__2tnGs"}},13:function(e,t,n){e.exports={"order-info":"OrderInfo_order-info__3UWqQ",number:"OrderInfo_number__1zoLC","into-modal":"OrderInfo_into-modal__1H1M_",name:"OrderInfo_name__2ibry",title:"OrderInfo_title__3YamM",status:"OrderInfo_status__3I20P",complete:"OrderInfo_complete__1vm1p","order-elements":"OrderInfo_order-elements__NFtUj","order-elements-item":"OrderInfo_order-elements-item__6WuqC",image:"OrderInfo_image__2a_vJ",total:"OrderInfo_total__3F1SA","bottom-block":"OrderInfo_bottom-block__2iRLl",time:"OrderInfo_time__bIzwI"}},14:function(e,t,n){e.exports={feed:"Feed_feed__1aF7S","main-title":"Feed_main-title__3PbFx","block-aside":"Feed_block-aside__15RIh","left-aside":"Feed_left-aside__28Yn-","right-aside":"Feed_right-aside__19vyd","feed-info":"Feed_feed-info__1hZYq","block-status":"Feed_block-status__3uUp-","block-ready":"Feed_block-ready__2ld8_","block-in-work":"Feed_block-in-work__2AQw4",title:"Feed_title__3JER_","complete-total":"Feed_complete-total__3VcqS","complete-today":"Feed_complete-today__yxVwr"}},185:function(e,t,n){"use strict";n.r(t);var r=n(105),a=n(1),c=n.n(a),i=n(35),s=n.n(i),o=(n(111),n(9)),l=n(6),u=n(5),d=n(3),m=n(36),j=n.n(m);function p(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\\.$?*|{}\\(\\)\\[\]\\\\/\\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function f(e,t,n){var r=(n=n||{}).expires||1200;if("number"==typeof r&&r){var a=new Date;a.setTime(a.getTime()+1e3*r),r=n.expires=a}r&&r.toUTCString&&(n.expires=r.toUTCString());var c=e+"="+(t=encodeURIComponent(t));for(var i in n){c+="; "+i;var s=n[i];!0!==s&&(c+="="+s)}document.cookie=c}function b(e){f(e,"",{expires:-1})}function h(e){if(!e)return null;e=new Date(e);var t=new Date,n="";return!function(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}(e,t)?!function(e,t){var n=Math.ceil(Math.abs(e.getTime()-t.getTime())/36e5);return n>t.getHours()&&n<t.getHours()+24}(e,t)?!function(e,t){var n=Math.ceil(Math.abs(e.getTime()-t.getTime())/36e5);return n>t.getHours()+24&&n<t.getHours()+48}(e,t)?n+="".concat(new Intl.DateTimeFormat("ru",{year:"numeric",month:"long",day:"numeric",weekday:"long"}).format(e)):n+="2 \u0434\u043d\u044f \u043d\u0430\u0437\u0430\u0434":n+="\u0412\u0447\u0435\u0440\u0430":n+="\u0421\u0435\u0433\u043e\u0434\u043d\u044f",n+=", ",n+="".concat(new Intl.DateTimeFormat("ru",{hour:"numeric",minute:"numeric"}).format(e)),n+=" i-GMT",n+="".concat(e.getHours()-e.getUTCHours()>0?"+":"-"),n+="".concat(e.getHours()-e.getUTCHours())}var _=n(11),x=n.n(_),O=n(26),g=function(){var e=Object(O.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://norma.nomoreparties.space/api/auth/login",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(O.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://norma.nomoreparties.space/api/auth/user",{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer "+p("token")},redirect:"follow",referrerPolicy:"no-referrer"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(O.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://norma.nomoreparties.space/api/auth/user",{method:"PATCH",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer "+p("token")},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(O.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://norma.nomoreparties.space/api/auth/token",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(O.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://norma.nomoreparties.space/api/auth/logout",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(O.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://norma.nomoreparties.space/api/password-reset",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(O.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://norma.nomoreparties.space/api/password-reset/reset",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(O.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://norma.nomoreparties.space/api/auth/register",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E="SET_USER_REQUEST",S=function e(){return function(t){v().then((function(e){return e.json()})).then((function(e){return e.success&&t({type:E,user:e.user}),e.success})).catch((function(n){if("jwt expired"===n.message)return t(T(e));console.log(n)}))}},T=function(e){return function(t){N({token:p("refresh-token")||""}).then((function(e){return e.json()})).then((function(n){if(n.accessToken){var r=n.accessToken.split("Bearer ")[1];r&&f("token",r,null)}return n.refreshToken&&f("refresh-token",n.refreshToken,null),n.success&&n.user&&t({type:E,user:n.user}),t(e()),n})).catch((function(e){console.log(e)}))}},P=function(e){return function(t){g(e).then((function(e){return e.json()})).then((function(e){if(e.accessToken){var n=e.accessToken.split("Bearer ")[1];n&&f("token",n,null)}return e.refreshToken&&f("refresh-token",e.refreshToken,null),(null===e||void 0===e?void 0:e.success)&&t({type:E,user:e.user}),e})).catch((function(e){console.log(e)}))}},R=function e(){return function(t){var n=p("refresh-token")||"";t({type:E,user:null}),b("token"),b("refresh-token"),k({token:n}).catch((function(n){if("jwt expired"===n.message)return t(T(e))}))}},D=function e(t){return function(n){return y(t).then((function(e){return e.json()})).then((function(e){return e.success||console.log(e.message),e})).then((function(e){return e.success&&n(R()),e})).then((function(e){return e.success&&n(P({email:t.email,password:t.password})),e})).catch((function(t){if("jwt expired"===t.message)return n(T(e));console.log(t)}))}},F=n(45),A=function(){return Object(F.b)()},z=F.c,L=n(0),B=Object(a.createContext)(void 0);function M(e){var t=e.children,n=function(){var e=z((function(e){return e.auth})).user,t=A();return Object(a.useEffect)((function(){t(S())}),[t]),{user:e,isHasCookie:function(){return!(!p("token")||!p("refresh-token"))}}}();return Object(L.jsx)(B.Provider,{value:n,children:t})}function H(){return Object(a.useContext)(B)}var U=function(){var e,t=H(),n=A(),r=c.a.useState(""),i=Object(u.a)(r,2),s=i[0],o=i[1],m=c.a.useState(""),p=Object(u.a)(m,2),f=p[0],b=p[1],h=Object(l.g)(),_=Object(l.h)().state,x=Object(a.useCallback)((function(e){e.preventDefault(),n(P({email:s,password:f}))}),[s,f,n]);return t.isHasCookie()?Object(L.jsx)(l.a,{to:{pathname:(null===_||void 0===_||null===(e=_.from)||void 0===e?void 0:e.pathname)||"/"}}):Object(L.jsxs)("section",{style:{},className:j.a.login+" ",children:[Object(L.jsx)("div",{className:j.a.title+" text text_type_main-default",children:"\u0412\u0445\u043e\u0434"}),Object(L.jsxs)("form",{className:j.a.form+" pt-5 pb-20",onSubmit:function(e){x(e)},children:[Object(L.jsx)(d.EmailInput,{onChange:function(e){o(e.target.value)},value:s,name:"E-mail"}),Object(L.jsx)(d.PasswordInput,{onChange:function(e){b(e.target.value)},value:f,name:"\u041f\u0430\u0440\u043e\u043b\u044c"}),""!==s&&""!==f&&Object(L.jsx)(d.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})]}),Object(L.jsxs)("div",{style:{textAlign:"center"},className:j.a["title-bottom"]+" pt-4 text text_type_main-default",children:["\u0412\u044b \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?",Object(L.jsx)(d.Button,{type:"secondary",size:"medium",onClick:function(){h.replace({pathname:"/register",state:_})},children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(L.jsxs)("div",{style:{textAlign:"center"},className:j.a["title-bottom"]+" pt-4 text text_type_main-default",children:["\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(L.jsx)(d.Button,{type:"secondary",size:"medium",onClick:function(){h.replace({pathname:"/forgot-password",state:_})},children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})};function W(){return Object(L.jsx)("section",{className:"main",children:Object(L.jsx)("div",{className:"wrapper",style:{display:"flex",gap:"calc(var(--offset-base-size) * 10)",justifyContent:"space-evenly",width:"calc(var(--offset-base-size) * 320)",marginLeft:"auto",marginRight:"auto"},children:Object(L.jsx)(U,{})})})}var q=n(4),G=n(22),J=n.n(G),X=n(21),Q=n.n(X),Y=n(191);var V=function(e){var t=Object(Y.a)({type:"add-ingredient",item:{id:e.item._id},collect:function(e){return{opacity:e.isDragging()?0:1}}}),n=Object(u.a)(t,2),r=n[0].opacity,a=n[1];return Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)("div",{style:{opacity:r,cursor:"grab"},ref:a,children:[Object(L.jsx)("div",{className:J.a["counter-wrapper"],children:e.count>0?Object(L.jsx)(d.Counter,{count:e.count,size:"default"}):null}),Object(L.jsx)("div",{className:"".concat(J.a.illustration," pl-4 pr-4"),children:Object(L.jsx)("img",{alt:"illustration",src:e.item.image})}),Object(L.jsxs)("div",{className:"".concat(J.a["price-block"]," pt-1 pb-1"),children:[Object(L.jsx)("span",{className:"".concat(J.a.price," text text_type_digits-medium"),children:e.item.price}),Object(L.jsx)(d.CurrencyIcon,{type:"primary"})]}),Object(L.jsx)("div",{className:"".concat(J.a["item-name"]," text text_type_main-medium"),children:e.item.name})]})})};var K=function(e){var t=z((function(e){return e.basic})),n=t.selectedIngredientsId,r=t.data,i=c.a.useState({current:"bun",currentItems:r}),s=Object(u.a)(i,2),o=s[0],l=s[1],m=Object(a.useRef)(null),j=Object(a.useRef)(null),p=Object(a.useRef)(null),f=Object(a.useRef)(null),b=function(e){return"bun"===e?j:"sauce"===e?p:"main"===e?f:void 0},h=m.current;Object(a.useEffect)((function(){var e=function(e){var t=0;Array.from(x(o.currentItems)).map((function(e){return{ref:b(e),type:e}})).some((function(n){var r,a,c,i;return t<e.currentTarget.scrollTop&&e.currentTarget.scrollTop<(null===(r=n.ref)||void 0===r||null===(a=r.current)||void 0===a?void 0:a.offsetTop)?(l(Object(q.a)(Object(q.a)({},o),{},{current:n.type})),!0):(t+=null===(c=n.ref)||void 0===c||null===(i=c.current)||void 0===i?void 0:i.offsetTop,!1)}))};return null===h||void 0===h||h.addEventListener("scroll",e),function(){return null===h||void 0===h?void 0:h.removeEventListener("scroll",e)}}),[m,o,h]);var _=function(e){l(Object(q.a)(Object(q.a)({},o),{},{current:e,currentItems:Array.from(r).filter((function(t){return t.type===e}))}))},x=function(e){return Array.from(e).map((function(e){return e.type})).filter((function(e,t,n){return n.indexOf(e)===t}))},O=function(e,t){return""===e?t:t.filter((function(t){return t.type===e}))},g=function(e){var t="";return"bun"===e?t="\u0411\u0443\u043b\u043a\u0438":"sauce"===e?t="\u0421\u043e\u0443\u0441\u044b":"main"===e&&(t="\u041d\u0430\u0447\u0438\u043d\u043a\u0430"),t},v=function(t){e.onClickOnIngredient(t._id)};return Object(L.jsxs)("div",{className:J.a["burger-ingredients"],children:[Object(L.jsx)("div",{className:"text text_type_main-large mt-10 mb-5",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(L.jsx)("div",{className:J.a["tab-bar"]+" mt-5 mb-10",children:["bun","sauce","main"].map((function(e,t){return Object(L.jsx)(c.a.Fragment,{children:Object(L.jsx)(d.Tab,{value:e,active:o.current===e,onClick:_,children:g(e)})},e)}))}),Object(L.jsx)("ul",{className:"".concat(J.a["tab-elements"]," ").concat(Q.a.scrollable),ref:m,children:x(o.currentItems).map((function(t,r){return Object(L.jsxs)("li",{ref:b(t),"data-type":t,children:[Object(L.jsx)("div",{className:"text text_type_main-medium",children:g(t)}),Object(L.jsx)("ul",{className:"".concat(J.a["ingredients-list"]," pt-6 pl-4 pr-4 pb-10"),children:O(t,o.currentItems).map((function(t){var r,a=(r=t._id,Array.from(n).filter((function(e){return e===r})).length),c=function(t){var n;return(null===(n=e.quantityData.find((function(e){return e.id===t})))||void 0===n?void 0:n.quantity)||0}(t._id);return Object(L.jsx)("li",{className:J.a["list-item"],onClick:function(){return v(t)},children:Object(L.jsx)(V,{item:t,quantity:c,count:a,onClickOnItem:v})},t._id)}))})]},t)}))})]})},Z=n(27),$=n.n(Z),ee="https://norma.nomoreparties.space/api/ingredients",te="https://norma.nomoreparties.space/api/orders",ne="SET_DATA_REQUEST",re="SET_SELECTED_INGREDIENTS",ae="SET_ID_FOR_POPUP",ce="DELETE_ID_FOR_POPUP",ie="SET_ORDER_DATA",se="SET_ORDER_STATUS",oe=function(){return function(e){(function(){return fetch((arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")||ee).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status))})).then((function(e){if(e&&e.success)return e.data;console.log(e)}),(function(e){console.log(e)}))})().then((function(t){e({type:ne,data:Array.from(t)})})).catch((function(e){console.log(e)}))}},le=function(e){return function(t){(function(e){return fetch(te,{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer "+p("token")},body:JSON.stringify({ingredients:e.selectedIngredientsId})}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status))})).then((function(t){if(t&&t.success)return e={orderNumber:t.order.number,selectedIngredientsId:e.selectedIngredientsId,total:e.total};console.log(t)}),(function(e){console.log(e)}))})(e).then((function(e){t({type:ie,orderData:e})})).then((function(){t({type:se,status:null})})).catch((function(e){t({type:se,status:"ERROR"}),console.log(e)}))}},ue=function(e){return function(t){return function(e){return fetch("".concat(te,"/").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430")})).then((function(e){if(e&&e.success)return e.orders;console.log(e)}),(function(e){console.log(e)}))}(e).then((function(e){return e}))}},de=n(192);var me=function(e){var t=Object(Y.a)({type:"constructor-ingredients",item:{id:e.id,oldIndex:e.index},collect:function(e){return{opacity:e.isDragging()?0:1}}}),n=Object(u.a)(t,2),r=n[0].opacity,a=n[1],c=Object(de.a)({accept:"constructor-ingredients",collect:function(e){return{isHover:e.isOver()}},drop:function(t){e.onMoveItem(t.id,e.id,t.oldIndex,e.index)}}),i=Object(u.a)(c,2),s=i[0].isHover,o=i[1];return Object(L.jsx)(L.Fragment,{children:Object(L.jsx)("span",{style:{outline:"2px dashed ".concat(s?"#4c4cff":"transparent")},ref:a,children:Object(L.jsx)("span",{style:{opacity:r,cursor:"grab"},ref:o,children:e.children})})})};var je=function(e){var t=z((function(e){return e.basic})),n=t.selectedIngredientsId,r=t.data,c=t.orderStatus,i=A(),s=Array.from(n).map((function(e){return r.find((function(t){return t._id===e}))})),o=s.filter((function(e){return"bun"===(null===e||void 0===e?void 0:e.type)})).filter((function(e,t,n){return n.indexOf(e)===t})),l=s.filter((function(e){return"bun"!==e.type})),m=Object(a.useReducer)((function(e){return Array.from(s).map((function(e){return e.price})).reduce((function(e,t){return e+t}),0)}),0),j=Object(u.a)(m,2),p=j[0],f=j[1];Object(a.useEffect)((function(){f()}),[n]);var b=function(t){f(),e.removeIngredient(t)},h=function(){i({type:se,status:"IN_PROGRESS"});var t={orderNumber:null,selectedIngredientsId:n,total:p};e.completeCheckout(t)},_=function(e,t,n,r){var a=l.map((function(e){return null===e||void 0===e?void 0:e._id})),c=a.findIndex((function(e,t){return t===n})),s=a.findIndex((function(e,t){return t===r})),u=a[s];a[s]=a[c],a[c]=u,a=(a=a.concat(o.map((function(e){return null===e||void 0===e?void 0:e._id})))).concat(o.map((function(e){return null===e||void 0===e?void 0:e._id}))),i({type:re,selectedIngredientsId:a})},x=Object(de.a)({accept:"add-ingredient",collect:function(e){return{isHover:e.isOver()}},drop:function(t){e.addIngredient(t.id)}}),O=Object(u.a)(x,2),g=O[0].isHover,v=O[1];return Object(L.jsxs)("div",{className:$.a["burger-constructor"]+" pt-10 mt-15 pb-10 pl-4",ref:v,style:{outline:"2px dashed ".concat(g?"#4c4cff":"transparent")},children:[Object(L.jsxs)("ul",{className:$.a.top+" pr-4",children:[o.map((function(e,t){return Object(L.jsxs)("li",{children:[o.length>1?Object(L.jsx)(d.DragIcon,{type:"primary"}):null,Object(L.jsx)(d.ConstructorElement,{type:"top",isLocked:1===o.length,text:e.name+" (\u0432\u0435\u0440\u0445)",price:e.price,thumbnail:e.image,handleClose:function(){return b(e._id)}})]},"".concat(e._id,"_").concat(t))})),0===o.length?Object(L.jsx)("li",{className:"text text_type_main-default",style:{justifyContent:"center"},children:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043d\u0430\u0448\u0438 \u0431\u0443\u043b\u043a\u0438"}):null]}),Object(L.jsxs)("ul",{className:Q.a.scrollable+" pr-2 pt-4 pb-4",children:[l.map((function(e,t){return Object(L.jsx)("li",{"data-index":t,children:Object(L.jsxs)(me,{id:e._id,index:t,onMoveItem:_,children:[Object(L.jsx)(d.DragIcon,{type:"primary"}),Object(L.jsx)(d.ConstructorElement,{isLocked:!1,text:e.name,price:e.price,thumbnail:e.image,handleClose:function(){return b(e._id)}})]})},"".concat(e._id,"_").concat(t))})),0===l.length?Object(L.jsx)("li",{className:"text text_type_main-default",style:{justifyContent:"center"},children:"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043d\u0430\u0447\u0438\u043d\u043a\u0443 \u0438\u043b\u0438 \u0441\u043e\u0443\u0441"}):null]}),Object(L.jsx)("ul",{className:$.a.bottom+" pr-4",children:o.map((function(e,t){return Object(L.jsxs)("li",{children:[o.length>1?Object(L.jsx)(d.DragIcon,{type:"primary"}):null,Object(L.jsx)(d.ConstructorElement,{type:"bottom",isLocked:1===o.length,text:e.name+" (\u043d\u0438\u0437)",price:e.price,thumbnail:e.image,handleClose:function(){return b(e._id)}})]},"".concat(e._id,"_").concat(t))}))}),0!==o.length?Object(L.jsxs)("div",{className:$.a["checkout-block"]+" mt-10 pr-4",children:[Object(L.jsx)("div",{className:$.a.total,children:Object(L.jsx)("span",{className:"text text_type_digits-medium",children:p})}),Object(L.jsx)("div",{className:$.a["currency-icon-wrapper"]+" ml-2",children:Object(L.jsx)(d.CurrencyIcon,{type:"primary",onClick:void 0})}),"ERROR"===c?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("div",{className:"text text_type_main-default ml-4",children:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"}),Object(L.jsx)("div",{className:$.a["button-wrapper"]+" ml-10",children:Object(L.jsx)(d.Button,{type:"primary",size:"large",onClick:h,children:"\u041f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0441\u043d\u043e\u0432\u0430"})})]}):null,"IN_PROGRESS"===c?Object(L.jsx)("div",{className:"text text_type_main-default ml-4",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u0430"}):null,null===c?Object(L.jsx)("div",{className:$.a["button-wrapper"]+" ml-10",children:Object(L.jsx)(d.Button,{type:"primary",size:"large",onClick:h,children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})}):null]}):null]})},pe=n(12),fe=n.n(pe);var be=function(e){return e.element?Object(L.jsxs)("div",{className:fe.a["ingredient-info"],style:e.style,children:[Object(L.jsx)("div",{className:fe.a["icon-wrapper"]+" mb-4",children:Object(L.jsx)("img",{src:e.element.image_large,alt:"icon-wrapper-img"})}),Object(L.jsx)("div",{className:fe.a.title+" text text_type_main-medium mt-4 mb-8",children:e.element.name}),Object(L.jsxs)("ul",{className:fe.a["composition-list"]+" text_color_inactive",children:[Object(L.jsxs)("li",{className:fe.a["composition-item"],children:[Object(L.jsx)("div",{className:fe.a.title+" text text_type_main-medium",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438, \u043a\u043a\u0430\u043b"}),Object(L.jsx)("div",{className:fe.a.value+" text text_type_digits-default mt-2",children:e.element.calories})]}),Object(L.jsxs)("li",{className:fe.a["composition-item"],children:[Object(L.jsx)("div",{className:fe.a.title+" text text_type_main-medium",children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(L.jsx)("div",{className:fe.a.value+" text text_type_digits-default mt-2",children:e.element.proteins})]}),Object(L.jsxs)("li",{className:fe.a["composition-item"],children:[Object(L.jsx)("div",{className:fe.a.title+" text text_type_main-medium",children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(L.jsx)("div",{className:fe.a.value+" text text_type_digits-default mt-2",children:e.element.fat})]}),Object(L.jsxs)("li",{className:fe.a["composition-item"],children:[Object(L.jsx)("div",{className:fe.a.title+" text text_type_main-medium",children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(L.jsx)("div",{className:fe.a.value+" text text_type_digits-default mt-2",children:e.element.carbohydrates})]})]})]}):null},he=n(56),_e=n(57),xe=n(58),Oe=n(61),ge=n(59),ve=n(102),ye=n.n(ve);var Ne=function(e){return Object(L.jsx)("div",{className:ye.a["modal-background"],onClick:e.onClick,children:e.children})},ke=n(37),we=n.n(ke),Ce=function(e){Object(Oe.a)(n,e);var t=Object(ge.a)(n);function n(e){var r;return Object(he.a)(this,n),(r=t.call(this,e)).closeModal=function(e){e.stopPropagation(),("Escape"===e.code||e.currentTarget.className===e.target.className||"".concat(e.currentTarget.className).includes(we.a["close-icon-wrapper"]))&&(r.props.onCloseModalCallback(),r.setState(Object(q.a)(Object(q.a)({},r.state),{},{enable:!1})))},r.state={enable:!0},r.closeModal=r.closeModal.bind(Object(xe.a)(r)),r}return Object(_e.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.closeModal)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.closeModal)}},{key:"render",value:function(){return s.a.createPortal(this.state.enable?Object(L.jsx)(Ne,{onClick:this.closeModal,children:Object(L.jsxs)("div",{className:"".concat(we.a["modal-body"]," pt-10 pl-10 pr-10 pb-15"),children:[Object(L.jsxs)("div",{className:we.a["modal-header"],children:[Object(L.jsx)("span",{className:we.a["modal-title"]+" text text_type_main-large",children:this.props.title}),Object(L.jsx)("div",{className:we.a["close-icon-wrapper"],onClick:this.closeModal,children:Object(L.jsx)(d.CloseIcon,{type:"primary"})})]}),this.props.children]})}):null,document.getElementById("for-modal"))}}]),n}(c.a.Component),Ie=n(32),Ee=n.n(Ie),Se=n.p+"static/media/done.dc2f52b0.png",Te=function(e){Object(Oe.a)(n,e);var t=Object(ge.a)(n);function n(){return Object(he.a)(this,n),t.apply(this,arguments)}return Object(_e.a)(n,[{key:"render",value:function(){var e,t=null===(e=this.props.orderInfo)||void 0===e?void 0:e.orderNumber;return Object(L.jsxs)("div",{className:Ee.a["checkout-info"],children:[Object(L.jsx)("div",{className:Ee.a["checkout-number"]+"text text_type_digits-large",children:t}),Object(L.jsx)("div",{className:Ee.a["checkout-title"]+" text text_type_main-medium mt-8",children:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(L.jsx)("div",{className:Ee.a["checkout-icon-wrapper"]+" mt-15 mb-15",children:Object(L.jsx)("img",{src:Se,alt:""})}),Object(L.jsx)("div",{className:Ee.a["checkout-status"]+" text text_type_main-medium mb-2",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(L.jsx)("div",{className:Ee.a["checkout-text"]+" text text_type_main-medium text_color_inactive mb-15",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})}}]),n}(c.a.Component),Pe=n(190),Re=n(104);function De(){var e=H(),t=Object(l.g)(),n=Object(l.h)(),r=z((function(e){return e.basic})),i=r.data,s=r.selectedIngredientsId,o=r.orderInfo,d=r.idForPopup,m=A(),j=c.a.useState({quantityData:Array.from([]).map((function(e){return{id:e._id,quantity:Math.floor(10*Math.random())}}))}),p=Object(u.a)(j,1)[0];Object(a.useEffect)((function(){m(oe())}),[m]);var f;return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("section",{className:"main",children:Object(L.jsx)("div",{className:"wrapper",style:{display:"flex",gap:"calc(var(--offset-base-size) * 10)",justifyContent:"space-evenly",width:"calc(var(--offset-base-size) * 320)",marginLeft:"auto",marginRight:"auto"},children:Object(L.jsxs)(Pe.a,{backend:Re.a,children:[Array.from(i).length>0?Object(L.jsx)(K,{setIdForPopup:function(e){m({type:ae,idForPopup:e})},quantityData:p.quantityData,onClickOnIngredient:function(e){t.replace({pathname:"/ingredients/".concat(e),state:{from:t.location}})}}):null,Array.from(i).length>0?Object(L.jsx)(je,{completeCheckout:function(r){e.isHasCookie()?m(le(r)):t.replace({pathname:"/login",state:{from:n}})},removeIngredient:function(e){var t=s,n=s.indexOf(e);t.splice(n,1),m({type:re,selectedIngredientsId:t})},addIngredient:function(e){var t,n=Array.from(s);"bun"===(null===(t=i.find((function(t){return t._id===e})))||void 0===t?void 0:t.type)?((n=n.filter((function(e,t,n){var r;return"bun"!==(null===(r=i.find((function(t){return t._id===e})))||void 0===r?void 0:r.type)}))).push(e),n.push(e)):n.push(e),m({type:re,selectedIngredientsId:n})}}):null]})})}),o&&Object(L.jsx)(Ce,{title:null,onCloseModalCallback:function(){m({type:ie,orderInfo:null});var e=Array.from([]);m({type:re,selectedIngredientsId:e})},children:Object(L.jsx)(Te,{orderInfo:o})}),d&&Object(L.jsx)(Ce,{title:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",onCloseModalCallback:function(){m({type:ce}),t.replace({pathname:"/",state:{from:t.location}})},children:Object(L.jsx)(be,{style:void 0,element:(f=d,i.find((function(e){return e._id===f})))})})]})}var Fe=n(47),Ae=n.n(Fe);var ze=function(){var e=H(),t=A(),n=c.a.useState(""),r=Object(u.a)(n,2),a=r[0],i=r[1],s=c.a.useRef(null),o=c.a.useState(""),m=Object(u.a)(o,2),j=m[0],p=m[1],b=c.a.useState(""),h=Object(u.a)(b,2),_=h[0],x=h[1],O=Object(l.g)(),g=Object(l.h)().state,v=function(e){var n;e.preventDefault(),t((n={name:a,password:_,email:j},function(e){I(n).then((function(e){return e.json()})).then((function(t){if(t.accessToken){var n=t.accessToken.split("Bearer ")[1];n&&f("token",n,null)}return t.refreshToken&&f("refresh-token",t.refreshToken,null),t.success||console.log(t.message),(null===t||void 0===t?void 0:t.success)&&e({type:E,user:t.user}),t})).catch((function(e){console.log(e)}))}))};return e.isHasCookie()?Object(L.jsx)(l.a,{to:{pathname:"/"}}):Object(L.jsxs)("section",{style:{},className:Ae.a.registration+" ",children:[Object(L.jsx)("div",{className:Ae.a.title+" text text_type_main-default",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(L.jsxs)("form",{className:Ae.a.form+" pt-5 pb-20",onSubmit:function(e){v(e)},children:[Object(L.jsx)(d.Input,{type:"text",placeholder:"\u0418\u043c\u044f",onChange:function(e){return i(e.target.value)},value:a,name:"name",error:!1,ref:s,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"}),Object(L.jsx)(d.EmailInput,{onChange:function(e){p(e.target.value)},value:j,name:"E-mail"}),Object(L.jsx)(d.PasswordInput,{onChange:function(e){x(e.target.value)},value:_,name:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(L.jsx)(d.Button,{type:"primary",size:"medium",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(L.jsxs)("div",{style:{textAlign:"center"},className:Ae.a["title-bottom"]+"p-5 text text_type_main-default",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",Object(L.jsx)(d.Button,{type:"secondary",size:"medium",onClick:function(){O.replace({pathname:"/login",state:g})},children:"\u0412\u043e\u0439\u0442\u0438"})]})]})};function Le(){return Object(L.jsx)("section",{className:"main",children:Object(L.jsx)("div",{className:"wrapper",style:{display:"flex",gap:"calc(var(--offset-base-size) * 10)",justifyContent:"space-evenly",width:"calc(var(--offset-base-size) * 320)",marginLeft:"auto",marginRight:"auto"},children:Object(L.jsx)(ze,{})})})}var Be=n(30),Me=n.n(Be),He="WS_CONNECTION_START",Ue="WS_CONNECTION_SUCCESS",We="WS_CONNECTION_ERROR",qe="WS_CONNECTION_CLOSED",Ge="WS_GET_MESSAGE",Je="WS_FEED_CONNECTION_START",Xe="WS_FEED_CONNECTION_SUCCESS",Qe="WS_FEED_CONNECTION_ERROR",Ye="WS_FEED_CONNECTION_CLOSED",Ve="WS_FEED_GET_MESSAGE",Ke=n(24),Ze=n.n(Ke);var $e=function(e){var t,n,r,a=function(t){return e.data.find((function(e){return e._id===t}))},c=Array.from(null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.ingredients).map((function(e){var t;return(null===(t=a(e))||void 0===t?void 0:t.price)||0})).reduce((function(e,t){return e+t}),0),i=h;return Object(L.jsxs)("div",{className:Ze.a["profile-order-item"]+" p-6 mb-5",children:[Object(L.jsxs)("div",{className:Ze.a.number+" text text_type_digits-medium mb-6",children:["#",e.item.number]}),Object(L.jsx)("div",{className:Ze.a.time+" text text_type_main-medium text_color_inactive",children:i(e.item.createdAt)}),Object(L.jsx)("div",{className:Ze.a.name+" text text_type_main-medium mb-2",children:e.item.name}),e.isShowStatus?Object(L.jsx)("div",{className:Ze.a.status+" text text_type_main-medium",children:(r=e.item.status,"done"===r?"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d":"created"===r?"\u0421\u043e\u0437\u0434\u0430\u043d":"pending"===r?"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f":r)}):null,Object(L.jsxs)("div",{className:Ze.a["panel-bottom"]+" mt-6",children:[Object(L.jsxs)("ul",{className:Ze.a["image-list"],children:[e.data&&Array.from(e.item.ingredients).filter((function(e,t){return t<5})).map((function(e,t){var n=a(e);return Object(L.jsx)("li",{children:Object(L.jsx)("div",{className:Ze.a["image-item"],style:{zIndex:1e3-t},children:Object(L.jsx)("img",{src:null===n||void 0===n?void 0:n.image,alt:"".concat(null===n||void 0===n?void 0:n.image)})})},"".concat(e,"_").concat(t))})),void 0!==e.item.ingredients[5]?Object(L.jsx)("li",{children:Object(L.jsxs)("div",{className:Ze.a["image-item"],children:[Object(L.jsx)("span",{className:Ze.a["offset-count"]+" text text_type_main-medium",children:"+".concat(e.item.ingredients.length-5)}),Object(L.jsx)("img",{style:{opacity:"0.5"},src:null===(n=a(e.item.ingredients[5]))||void 0===n?void 0:n.image,alt:""})]})},"other"):null]}),Object(L.jsxs)("div",{className:Ze.a.total+" text text_type_digits-medium",children:[Object(L.jsx)(d.CurrencyIcon,{type:"primary",onClick:void 0}),Object(L.jsx)("span",{children:c})]})]})]})};var et=function(){var e=z((function(e){return e.basic})).data,t=z((function(e){return e.profileOrders})),n=A();Object(a.useEffect)((function(){return n(oe()),function(){}}),[n]);var r=Object(l.g)();return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("ul",{className:"profile-order-list ".concat(Q.a.scrollable," pr-2"),style:{maxHeight:"60vh"},children:Array.from(t.orders).map((function(t){return Object(L.jsx)("li",{className:"",onClick:function(){return function(e){r.replace({pathname:"/profile/orders/".concat(e.number),state:{from:r.location,number:e.number}})}(t)},style:{cursor:"pointer"},children:Object(L.jsx)($e,{item:t,data:e,isShowStatus:!0})},t._id)}))}),t&&0===t.orders.length?Object(L.jsx)("div",{className:"text text_type_main-default",style:{textAlign:"center"},children:"\u0423 \u0412\u0430\u0441 \u0435\u0449\u0451 \u043d\u0435\u0442 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}):null]})};var tt=function(){var e,t,n=Object(l.h)(),r=n.pathname,i=n.state,s=H(),o=A(),m=Object(l.g)();Object(a.useEffect)((function(){return o({type:He}),function(){o({type:qe})}}),[o]);var j=c.a.useState((null===(e=s.user)||void 0===e?void 0:e.name)||""),p=Object(u.a)(j,2),f=p[0],b=p[1],h=c.a.useRef(null),_=c.a.useState((null===(t=s.user)||void 0===t?void 0:t.email)||""),x=Object(u.a)(_,2),O=x[0],g=x[1],v=c.a.useState(""),y=Object(u.a)(v,2),N=y[0],k=y[1];return Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)("section",{className:"".concat(Me.a.profile),children:[Object(L.jsxs)("div",{className:"".concat(Me.a["left-aside"]),children:[Object(L.jsx)("div",{className:"".concat(Me.a.link," text text_type_main-medium ").concat("/profile"!==r?"text_color_inactive":null),onClick:function(){m.replace({pathname:"/profile",state:i})},children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(L.jsx)("div",{className:"".concat(Me.a.link," text text_type_main-medium ").concat("/profile/orders"!==r?"text_color_inactive":null),onClick:function(){m.replace({pathname:"/profile/orders",state:i})},children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(L.jsx)("div",{className:"".concat(Me.a.link," text text_type_main-medium text_color_inactive"),onClick:function(){o(R()),m.replace({pathname:"/login",state:i})},children:"\u0412\u044b\u0445\u043e\u0434"}),Object(L.jsx)("div",{className:"text text_type_main-default text_color_inactive mt-20",children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"})]}),"/profile"===r?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)("div",{className:"".concat(Me.a["right-aside"]),style:{alignItems:"center",width:"60%"},children:[Object(L.jsx)(d.Input,{type:"text",placeholder:"\u0418\u043c\u044f",onChange:function(e){return b(e.target.value)},value:f,name:"name",error:!1,ref:h,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"}),Object(L.jsx)(d.EmailInput,{onChange:function(e){g(e.target.value)},value:O,name:"\u041b\u043e\u0433\u0438\u043d"}),Object(L.jsx)(d.PasswordInput,{onChange:function(e){k(e.target.value)},value:N,name:"\u041f\u0430\u0440\u043e\u043b\u044c"}),""!==O&&""!==f&&""!==N&&Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(d.Button,{type:"primary",size:"medium",onClick:function(){o(D({name:f,email:O,password:N}))},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(L.jsx)(d.Button,{type:"primary",size:"medium",onClick:function(){m.go(0)},children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]}),Object(L.jsx)("div",{style:{width:"40%"}})]}):null,"/profile/orders"===r?Object(L.jsx)("div",{className:"".concat(Me.a["right-aside"]),children:Object(L.jsx)(et,{})}):null]})})};function nt(){return Object(L.jsx)("section",{className:"main",children:Object(L.jsx)("div",{className:"wrapper",style:{display:"flex",gap:"calc(var(--offset-base-size) * 10)",justifyContent:"space-evenly",width:"calc(var(--offset-base-size) * 320)",marginLeft:"auto",marginRight:"auto"},children:Object(L.jsx)(tt,{})})})}var rt=n(48),at=n.n(rt);var ct=function(){var e=H(),t=A(),n=c.a.useState(""),r=Object(u.a)(n,2),a=r[0],i=r[1],s=Object(l.g)(),o=Object(l.h)().state,m=function(e){var n;e.preventDefault(),t((n={email:a},function(e){return w(n).then((function(e){return e.json()})).then((function(e){return e.success||console.log(e.message),e})).catch((function(e){console.log(e)}))})).then((function(e){(null===e||void 0===e?void 0:e.success)&&s.replace({pathname:"/reset-password",state:{from:s.location}})}))};return e.isHasCookie()?Object(L.jsx)(l.a,{to:{pathname:"/"}}):Object(L.jsxs)("section",{style:{},className:at.a["forgot-password"]+" ",children:[Object(L.jsx)("div",{className:at.a.title+" text text_type_main-default",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(L.jsxs)("form",{className:at.a.form+" pt-5 pb-20",onSubmit:function(e){m(e)},children:[Object(L.jsx)(d.EmailInput,{onChange:function(e){i(e.target.value)},value:a,name:"E-mail"}),""!==a&&Object(L.jsx)(d.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})]}),Object(L.jsxs)("div",{style:{textAlign:"center"},className:at.a["title-bottom"]+"p-5 text text_type_main-default",children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(L.jsx)(d.Button,{type:"secondary",size:"medium",onClick:function(){s.replace({pathname:"/login",state:o})},children:"\u0412\u043e\u0439\u0442\u0438"})]})]})};function it(){return Object(L.jsx)("section",{className:"main",children:Object(L.jsx)("div",{className:"wrapper",style:{display:"flex",gap:"calc(var(--offset-base-size) * 10)",justifyContent:"space-evenly",width:"calc(var(--offset-base-size) * 320)",marginLeft:"auto",marginRight:"auto"},children:Object(L.jsx)(ct,{})})})}var st=n(49),ot=n.n(st);var lt=function(){var e,t=H(),n=A(),r=c.a.useState(""),a=Object(u.a)(r,2),i=a[0],s=a[1],o=c.a.useRef(null),m=c.a.useState(""),j=Object(u.a)(m,2),p=j[0],f=j[1],b=Object(l.g)(),h=Object(l.h)().state;if(t.isHasCookie())return Object(L.jsx)(l.a,{to:{pathname:"/"}});if("/forgot-password"!==(null===h||void 0===h||null===(e=h.from)||void 0===e?void 0:e.pathname))return Object(L.jsx)(l.a,{to:{pathname:"/forgot-password"}});var _=function(e){var t;e.preventDefault(),n((t={token:i,password:p},function(e){return C(t).then((function(e){return e.json()})).then((function(e){return e.success||console.log(e.message),e})).catch((function(e){console.log(e)}))})).then((function(e){e.success&&b.replace({pathname:"/",state:h})}))};return Object(L.jsxs)("section",{style:{},className:ot.a["reset-password"]+" ",children:[Object(L.jsx)("div",{className:ot.a.title+" text text_type_main-default",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(L.jsxs)("form",{className:ot.a.form+" pt-5 pb-20",onSubmit:function(e){_(e)},children:[Object(L.jsx)(d.PasswordInput,{onChange:function(e){f(e.target.value)},value:p,name:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(L.jsx)(d.Input,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",onChange:function(e){return s(e.target.value)},value:i,name:"token",error:!1,ref:o,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"}),Object(L.jsx)(d.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})]}),Object(L.jsxs)("div",{style:{textAlign:"center"},className:ot.a["title-bottom"]+"p-5 text text_type_main-default",children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(L.jsx)(d.Button,{type:"secondary",size:"medium",onClick:function(){b.replace({pathname:"/login",state:h})},children:"\u0412\u043e\u0439\u0442\u0438"})]})]})};function ut(){return Object(L.jsx)("section",{className:"main",children:Object(L.jsx)("div",{className:"wrapper",style:{display:"flex",gap:"calc(var(--offset-base-size) * 10)",justifyContent:"space-evenly",width:"calc(var(--offset-base-size) * 320)",marginLeft:"auto",marginRight:"auto"},children:Object(L.jsx)(lt,{})})})}function dt(){var e=Object(l.i)().id,t=z((function(e){return e.basic})).data,n=A();Object(a.useEffect)((function(){n(oe())}),[n]);var r=function(e){return t.find((function(t){return t._id===e}))}(e);return Object(L.jsx)("section",{className:"main",children:Object(L.jsx)("div",{className:"wrapper",style:{display:"flex",gap:"calc(var(--offset-base-size) * 10)",justifyContent:"space-evenly",width:"calc(var(--offset-base-size) * 320)",marginLeft:"auto",marginRight:"auto","flex-direction":"column","flex-wrap":"nowrap",alignItems:"center"},children:r?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("span",{"data-id":e,className:" text text_type_main-large mt-10",children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"}),Object(L.jsx)(be,{style:{backgroundColor:"transparent"},element:r})]}):Object(L.jsxs)("div",{children:["\u0418\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u043f\u043e id: ",e]})})})}var mt=n(13),jt=n.n(mt),pt=n.p+"static/media/loader.f0c346f6.gif";var ft=function(){return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("style",{children:"          body{            overflow:hidden;          }        "}),Object(L.jsx)("img",{style:{width:"100%",height:"100vh",objectFit:"contain",backgroundColor:"black",overflow:"hidden"},alt:"loading...",src:pt})]})};var bt=function(){var e=z((function(e){return e.basic})).data,t=Object(l.i)().number,n=A(),r=Object(l.g)(),c=Object(l.h)(),i=c.state&&("PUSH"===r.action||"REPLACE"===r.action)&&c.state.from||null,s=Object(a.useState)([]),o=Object(u.a)(s,2),m=o[0],j=o[1];Object(a.useEffect)((function(){return n(oe()),n(ue(t)).then((function(e){j(e)})),function(){}}),[n,t]);var p,f=Array.from(m).find((function(e){return e.number===+t})),b=null===f||void 0===f?void 0:f.ingredients.filter((function(e,t,n){return n.indexOf(e)===t})),_=function(t){return e.find((function(e){return e._id===t}))},x=Array.from((null===f||void 0===f?void 0:f.ingredients)||[]).map((function(e){var t;return(null===(t=_(e))||void 0===t?void 0:t.price)||0})).reduce((function(e,t){return e+t}),0),O=h;return f&&e?Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)("section",{className:jt.a["order-info"],children:[Object(L.jsxs)("div",{className:"".concat(i?jt.a["into-modal"]:null," ").concat(jt.a.number,"  mb-10 text text_type_digits-medium"),children:["#",f.number]}),Object(L.jsx)("div",{className:jt.a.name+" mb-3 text text_type_main-medium",children:f.name}),Object(L.jsx)("div",{className:"".concat(jt.a.status," ").concat("done"===f.status?jt.a.complete:null," mb-15 text text_type_main-medium"),children:(p=f.status,"done"===p?"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d":"created"===p?"\u0421\u043e\u0437\u0434\u0430\u043d":"pending"===p?"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f":p)}),Object(L.jsx)("div",{className:jt.a.title+" mb-6 text text_type_main-medium",children:"\u0421\u043e\u0441\u0442\u0430\u0432:"}),Object(L.jsx)("ul",{className:"".concat(jt.a["order-elements"]," ").concat(Q.a.scrollable),children:Array.from(b).map((function(e){var t=_(e),n=function(e){return f.ingredients.filter((function(t){return t===e})).length}(e);return Object(L.jsx)("li",{className:"mb-4",children:Object(L.jsxs)("div",{className:jt.a["order-elements-item"],children:[Object(L.jsx)("div",{className:jt.a.image,children:Object(L.jsx)("img",{src:"".concat(null===t||void 0===t?void 0:t.image),alt:"".concat(null===t||void 0===t?void 0:t.image)})}),Object(L.jsx)("div",{className:jt.a.name+" ml-4 mr-4 text text_type_main-medium",children:null===t||void 0===t?void 0:t.name}),Object(L.jsxs)("div",{className:jt.a.total+" text text_type_digits-medium",children:[Object(L.jsxs)("span",{className:"mr-2",children:[n," x ",null===t||void 0===t?void 0:t.price]}),Object(L.jsx)(d.CurrencyIcon,{type:"primary",onClick:void 0})]})]})},e)}))}),Object(L.jsxs)("div",{className:jt.a["bottom-block"]+" mt-10",children:[Object(L.jsx)("div",{className:jt.a.time+" text text_type_main-medium text_color_inactive",children:O(new Date(f.createdAt))}),Object(L.jsxs)("div",{className:jt.a.total+" text text_type_digits-medium",children:[Object(L.jsx)("span",{className:"mr-2",children:x}),Object(L.jsx)(d.CurrencyIcon,{type:"primary",onClick:void 0})]})]})]})}):Object(L.jsx)(ft,{})};function ht(){return Object(L.jsx)("section",{className:"main",children:Object(L.jsx)("div",{className:"wrapper",style:{display:"flex",gap:"calc(var(--offset-base-size) * 10)",justifyContent:"space-evenly",width:"calc(var(--offset-base-size) * 320)",marginLeft:"auto",marginRight:"auto",paddingTop:"122px"},children:Object(L.jsx)(bt,{})})})}var _t=function(e){var t=Object(l.g)(),n=Object(l.h)(),r=n.state&&("PUSH"===t.action||"REPLACE"===t.action)&&n.state.from||null;return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)(l.d,{location:r||n,children:[Object(L.jsx)(l.b,{exact:!0,path:"".concat(e.route),children:e.children}),Object(L.jsx)(l.b,{exact:!0,path:"".concat(e.route,"/:number"),children:Object(L.jsx)(ht,{})})]}),r&&Object(L.jsx)(l.b,{path:"".concat(e.route,"/:number"),children:Object(L.jsx)(Ce,{title:"",onCloseModalCallback:function(){t.replace({pathname:"".concat(e.route),state:{from:t.location}})},children:Object(L.jsx)(bt,{})})})]})},xt=n(14),Ot=n.n(xt);var gt=function(){var e=z((function(e){return e.basic})).data,t=A(),n=Object(l.g)(),r=z((function(e){return e.feed}));return Object(a.useEffect)((function(){return t(oe()),t({type:Je}),function(){t({type:Ye})}}),[t]),r?Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)("section",{className:"".concat(Ot.a.feed),children:[Object(L.jsx)("div",{className:Ot.a["main-title"]+" text_type_main-medium",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(L.jsxs)("div",{className:Ot.a["block-aside"],children:[Object(L.jsx)("div",{className:"".concat(Ot.a["left-aside"]),children:r.orders.length>0?Object(L.jsx)("ul",{className:"profile-order-list ".concat(Q.a.scrollable," pr-2"),style:{maxHeight:"60vh"},children:r.orders.map((function(t){return Object(L.jsx)("li",{className:"",onClick:function(){return function(e){n.replace({pathname:"/feed/".concat(e.number),state:{from:n.location,number:e.number}})}(t)},style:{cursor:"pointer"},children:Object(L.jsx)($e,{item:t,data:e,isShowStatus:!1})},t._id)}))}):Object(L.jsx)(ft,{})}),Object(L.jsx)("div",{className:"".concat(Ot.a["right-aside"]),children:Object(L.jsxs)("div",{className:Ot.a["feed-info"],children:[Object(L.jsxs)("div",{className:Ot.a["block-status"],children:[Object(L.jsxs)("div",{className:Ot.a["block-ready"],children:[Object(L.jsx)("div",{className:Ot.a.title+" text_type_main-medium mb-6",children:"\u0413\u043e\u0442\u043e\u0432\u044b:"}),Object(L.jsx)("ul",{className:"".concat(Q.a.scrollable),style:{maxHeight:"172px"},children:Array.from(r.orders.filter((function(e){return"done"===e.status}))).map((function(e){return Object(L.jsx)("li",{className:"text_type_digits-default",children:e.number},"".concat(e.number))}))})]}),Object(L.jsxs)("div",{className:Ot.a["block-in-work"],children:[Object(L.jsx)("div",{className:Ot.a.title+" text_type_main-medium mb-6",children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435:"}),Object(L.jsx)("ul",{className:"".concat(Q.a.scrollable),style:{maxHeight:"172px"},children:Array.from(r.orders.filter((function(e){return"done"!==e.status}))).map((function(e){return Object(L.jsx)("li",{className:"text_type_digits-default",children:e.number},"".concat(e.number))}))})]})]}),Object(L.jsx)("div",{className:Ot.a.title+" text text_type_main-medium mt-15",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f"}),Object(L.jsx)("div",{className:Ot.a["complete-total"]+" text text_type_digits-large",children:r.total}),Object(L.jsx)("div",{className:Ot.a.title+" text text_type_main-medium mt-15",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f"}),Object(L.jsx)("div",{className:Ot.a["complete-today"]+" text text_type_digits-large",children:r.totalToday})]})})]})]})}):Object(L.jsx)(ft,{})};function vt(){return Object(L.jsx)("section",{className:"main",children:Object(L.jsx)("div",{className:"wrapper",style:{display:"flex",gap:"calc(var(--offset-base-size) * 10)",justifyContent:"space-evenly",width:"calc(var(--offset-base-size) * 320)",marginLeft:"auto",marginRight:"auto"},children:Object(L.jsx)(gt,{})})})}var yt=function(){var e=Object(l.i)().id,t=Object(l.g)(),n=Object(l.h)(),r=n.state&&("PUSH"===t.action||"REPLACE"===t.action)&&n.state.from||null,c=A();Object(a.useEffect)((function(){c(oe())}),[c]),Object(a.useEffect)((function(){return c({type:ae,idForPopup:e}),function(){c({type:ce})}}),[c,e]);var i=z((function(e){return e.basic})),s=i.data,o=i.idForPopup;return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)(l.d,{location:r||n,children:[Object(L.jsx)(l.b,{exact:!0,path:"/",children:Object(L.jsx)(De,{})}),Object(L.jsx)(l.b,{exact:!0,path:"/ingredients/:id",children:Object(L.jsx)(dt,{})})]}),r&&Object(L.jsx)(l.b,{path:"/ingredients/:id",children:o&&Object(L.jsx)(Ce,{title:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",onCloseModalCallback:function(){c({type:ce}),t.replace({pathname:"/",state:{from:t.location}})},children:Object(L.jsx)(be,{style:void 0,element:function(e){return s.find((function(t){return t._id===e}))}(o)})})})]})},Nt=n.p+"static/media/page404v2.ce4353e7.gif";var kt=function(){return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("style",{children:"        body{          overflow:hidden;        }      "}),Object(L.jsx)(o.b,{to:"/",children:Object(L.jsx)("div",{style:{display:"flex",justifyContent:"center",height:"100vh"},children:Object(L.jsx)("img",{title:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e",style:{maxWidth:"100%",maxHeight:"60vh",objectFit:"cover",overflow:"hidden"},alt:"loading...",src:Nt})})})]})},wt=n(25),Ct=n.n(wt),It={width:"calc(var(--offset-base-size) * 320)",marginLeft:"auto",marginRight:"auto"};var Et=function(){var e=Object(l.g)(),t=Object(l.h)(),n=t.state,r=t.pathname,a=function(){e.replace({pathname:"/",state:n})};return Object(L.jsx)("header",{className:Ct.a["app-header"]+" pt-4 pb-4",children:Object(L.jsxs)("div",{className:Ct.a.wrapper,style:It,children:[Object(L.jsxs)("ul",{className:Ct.a["navigation-bar"],children:[Object(L.jsxs)("li",{className:Ct.a["navigation-link"]+" p-5",onClick:a,children:[Object(L.jsx)(d.BurgerIcon,{type:"".concat("/"===r?"primary":"secondary")}),Object(L.jsx)("span",{className:Ct.a["navigation-text"]+" text text_type_main-default ".concat("/"!==r?"text_color_inactive":null," ml-2"),children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"})]}),Object(L.jsxs)("li",{className:Ct.a["navigation-link"]+" p-5",onClick:function(){e.replace({pathname:"/feed",state:n})},children:[Object(L.jsx)(d.ListIcon,{type:"".concat("/feed"===r?"primary":"secondary")}),Object(L.jsx)("span",{className:Ct.a["navigation-text"]+" text text_type_main-default ".concat("/feed"!==r?"text_color_inactive":null,"  ml-2"),children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})]})]}),Object(L.jsx)("div",{className:Ct.a["logo-wrapper"],onClick:a,children:Object(L.jsx)(d.Logo,{})}),Object(L.jsx)("ul",{className:Ct.a["navigation-bar"],children:Object(L.jsxs)("li",{className:Ct.a["navigation-link"]+" p-5",onClick:function(){e.replace({pathname:"/profile",state:n})},children:[Object(L.jsx)(d.ProfileIcon,{type:"".concat("/profile"===r?"primary":"secondary")}),Object(L.jsx)("span",{className:Ct.a["navigation-text"]+" text text_type_main-default ".concat("/profile"!==r?"text_color_inactive":null," ml-2"),children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})]})})]})})},St=n(46),Tt=["children"],Pt=["user"];function Rt(e){var t=e.children,n=Object(St.a)(e,Tt),r=H(),c=r.user,i=Object(St.a)(r,Pt),s=Object(a.useState)(!1),o=Object(u.a)(s,2),d=o[0],m=o[1];return Object(a.useEffect)((function(){m(!!c)}),[c]),i.isHasCookie()&&!d?Object(L.jsx)(ft,{}):Object(L.jsx)(l.b,Object(q.a)(Object(q.a)({},n),{},{render:function(e){var n=e.location;return d?t:Object(L.jsx)(l.a,{to:{pathname:"/login",state:{from:n}}})}}))}var Dt=function(){return Object(L.jsx)(M,{children:Object(L.jsxs)(o.a,{basename:"/",children:[Object(L.jsx)(Et,{}),Object(L.jsxs)(l.d,{children:[Object(L.jsx)(l.b,{path:"/login",exact:!0,children:Object(L.jsx)(W,{})}),Object(L.jsx)(l.b,{path:"/register",exact:!0,children:Object(L.jsx)(Le,{})}),Object(L.jsx)(l.b,{path:"/forgot-password",exact:!0,children:Object(L.jsx)(it,{})}),Object(L.jsx)(l.b,{path:"/reset-password",exact:!0,children:Object(L.jsx)(ut,{})}),Object(L.jsx)(Rt,{path:"/profile",exact:!0,children:Object(L.jsx)(nt,{})}),Object(L.jsx)(l.b,{path:"/ingredients/:id",exact:!0,children:Object(L.jsx)(yt,{})}),Object(L.jsx)(l.b,{path:"/feed",exact:!0,children:Object(L.jsx)(vt,{})}),Object(L.jsx)(l.b,{path:"/feed/:number",exact:!0,children:Object(L.jsx)(_t,{route:"/feed",children:Object(L.jsx)(vt,{})})}),Object(L.jsx)(Rt,{path:"/profile/orders",exact:!0,children:Object(L.jsx)(nt,{})}),Object(L.jsx)(Rt,{path:"/profile/orders/:number",exact:!0,children:Object(L.jsx)(_t,{route:"/profile/orders",children:Object(L.jsx)(nt,{})})}),Object(L.jsx)(l.b,{path:"/",exact:!0,children:Object(L.jsx)(De,{})}),Object(L.jsx)(l.b,{children:Object(L.jsx)(kt,{})})]})]})})},Ft=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,193)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},At=n(103),zt=n(29),Lt={user:null,id:null},Bt={data:Array.from([]),selectedIngredientsId:Array.from([]),idForPopup:null,orderInfo:null,orderStatus:null},Mt={wsConnected:!1,orders:Array.from([]),total:null,totalToday:null},Ht={wsConnected:!1,orders:Array.from([]),total:null,totalToday:null},Ut=Object(zt.b)({basic:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return Object(q.a)(Object(q.a)({},e),{},{data:Array.from(t.data)});case re:return Object(q.a)(Object(q.a)({},e),{},{selectedIngredientsId:t.selectedIngredientsId});case ie:return Object(q.a)(Object(q.a)({},e),{},{orderInfo:t.orderData});case ae:return Object(q.a)(Object(q.a)({},e),{},{idForPopup:t.idForPopup});case ce:return Object(q.a)(Object(q.a)({},e),{},{idForPopup:null});case se:return Object(q.a)(Object(q.a)({},e),{},{orderStatus:t.status});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:var n;return Object(q.a)(Object(q.a)({},e),{},{user:t.user,id:(null===(n=t.user)||void 0===n?void 0:n.email)||null});default:return e}},profileOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue:return Object(q.a)(Object(q.a)({},e),{},{wsConnected:!0});case We:case qe:return Object(q.a)(Object(q.a)({},e),{},{wsConnected:!1});case Ge:return Object(q.a)(Object(q.a)({},e),{},{total:t.payload.total,totalToday:t.payload.totalToday,orders:t.payload.orders});default:return e}},feed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xe:return Object(q.a)(Object(q.a)({},e),{},{wsConnected:!0});case Qe:case Ye:return Object(q.a)(Object(q.a)({},e),{},{wsConnected:!1});case Ve:return Object(q.a)(Object(q.a)({},e),{},{total:t.payload.total,totalToday:t.payload.totalToday,orders:t.payload.orders});default:return e}}}),Wt=["success"],qt={wsInit:Je,wsSendMessage:"WS_FEED_SEND_MESSAGE",onOpen:Xe,onClose:Ye,onError:Qe,onMessage:Ve},Gt={wsInit:He,wsSendMessage:"WS_SEND_MESSAGE",onOpen:Ue,onClose:qe,onError:We,onMessage:Ge},Jt=function(e,t,n){return function(r){var a=null;return function(c){return function(i){var s=r.dispatch,o=i.type,l=i.payload,u=t.wsInit,d=t.wsSendMessage,m=t.onOpen,j=t.onClose,f=t.onError,b=t.onMessage,h=p("token");if(n?o===u&&h&&(a=new WebSocket("".concat(e,"?token=").concat(h))):o===u&&(a=new WebSocket("".concat(e))),a&&(a.onopen=function(e){s({type:m,payload:e})},a.onerror=function(e){s({type:f,payload:e})},a.onmessage=function(e){var t=e.data,n=JSON.parse(t),r=(n.success,Object(St.a)(n,Wt));s({type:b,payload:r})},a.onclose=function(e){s({type:j,payload:e})},o===d)){var _=Object(q.a)(Object(q.a)({},l),{},{token:h});a.send(JSON.stringify(_))}c(i)}}}},Xt=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):zt.c)(zt.a.apply(void 0,[At.a].concat(Object(r.a)([Jt("wss://norma.nomoreparties.space/orders/all",qt,!1),Jt("wss://norma.nomoreparties.space/orders",Gt,!0)])))),Qt=Object(zt.d)(Ut,Xt);s.a.render(Object(L.jsx)(c.a.StrictMode,{children:Object(L.jsx)(F.a,{store:Qt,children:Object(L.jsx)(Dt,{})})}),document.getElementById("root")),Ft()},21:function(e,t,n){e.exports={scrollable:"scrollable_scrollable__1gWpr"}},22:function(e,t,n){e.exports={"burger-ingredients":"BurgerIngredients_burger-ingredients__1h0mI","tab-bar":"BurgerIngredients_tab-bar__3k5WR","tab-elements":"BurgerIngredients_tab-elements__2wyZB","ingredients-list":"BurgerIngredients_ingredients-list__34aTE","list-item":"BurgerIngredients_list-item__3kXX2","counter-wrapper":"BurgerIngredients_counter-wrapper__2yOQI","counter-wrapper-left":"BurgerIngredients_counter-wrapper-left__2mKUi",illustration:"BurgerIngredients_illustration__3lBLO","price-block":"BurgerIngredients_price-block__2tXN0",price:"BurgerIngredients_price__1P54H","item-name":"BurgerIngredients_item-name__1xCT1"}},24:function(e,t,n){e.exports={"profile-order-item":"ProfileOrdersListItem_profile-order-item__25zAX",number:"ProfileOrdersListItem_number__2b-0w",time:"ProfileOrdersListItem_time__2PvkD",name:"ProfileOrdersListItem_name__18ZMA",status:"ProfileOrdersListItem_status__U_wGi","panel-bottom":"ProfileOrdersListItem_panel-bottom__30_Re","image-list":"ProfileOrdersListItem_image-list__t1O82","image-item":"ProfileOrdersListItem_image-item__2AP4t","offset-count":"ProfileOrdersListItem_offset-count__1YsqO",total:"ProfileOrdersListItem_total__1-3vk"}},25:function(e,t,n){e.exports={"app-header":"AppHeader_app-header__dUb6i",wrapper:"AppHeader_wrapper__1q47x","logo-wrapper":"AppHeader_logo-wrapper__vhf3S","navigation-bar":"AppHeader_navigation-bar__1ipd5","navigation-link":"AppHeader_navigation-link__2YojT","navigation-text":"AppHeader_navigation-text__3cjTU"}},27:function(e,t,n){e.exports={"burger-constructor":"BurgerConstructor_burger-constructor__3rKtC",top:"BurgerConstructor_top__hj2qs",bottom:"BurgerConstructor_bottom__1NNuQ","checkout-block":"BurgerConstructor_checkout-block__3f2fs",total:"BurgerConstructor_total__bL-Pa","currency-icon-wrapper":"BurgerConstructor_currency-icon-wrapper__2IQb3"}},30:function(e,t,n){e.exports={profile:"Profile_profile__qtqwX","left-aside":"Profile_left-aside__17b3v",link:"Profile_link__iUk2v","right-aside":"Profile_right-aside__1lSCn"}},32:function(e,t,n){e.exports={"checkout-info":"OrderDetails_checkout-info__1mI_9","checkout-number":"OrderDetails_checkout-number__1gR5y","checkout-title":"OrderDetails_checkout-title__15Klg","checkout-icon-wrapper":"OrderDetails_checkout-icon-wrapper__3gAlt","checkout-status":"OrderDetails_checkout-status__2lL88","checkout-text":"OrderDetails_checkout-text__3IS3s"}},36:function(e,t,n){e.exports={login:"Login_login__1aP6l",title:"Login_title__1D5uC",form:"Login_form__11Q6C","title-bottom":"Login_title-bottom__1--Iw"}},37:function(e,t,n){e.exports={"modal-body":"Modal_modal-body__lQTj_","modal-header":"Modal_modal-header__2Oi5e","close-icon-wrapper":"Modal_close-icon-wrapper__2lzDA"}},47:function(e,t,n){e.exports={registration:"Registration_registration__u0kwm",title:"Registration_title__KKa0J",form:"Registration_form__21Pr1",input__container:"Registration_input__container__2GJmw",input_size_default:"Registration_input_size_default__1wG17","title-bottom":"Registration_title-bottom__3Vpci"}},48:function(e,t,n){e.exports={"forgot-password":"ForgotPassword_forgot-password__1q5if",title:"ForgotPassword_title__1vdl3",form:"ForgotPassword_form__EKxHB",input__container:"ForgotPassword_input__container__3fiUr",input_size_default:"ForgotPassword_input_size_default__2iHaE","title-bottom":"ForgotPassword_title-bottom__2qGMQ"}},49:function(e,t,n){e.exports={"reset-password":"ResetPassword_reset-password__2y6Pv",title:"ResetPassword_title__3heJz",form:"ResetPassword_form__3mgZX",input__container:"ResetPassword_input__container__SnV62",input_size_default:"ResetPassword_input_size_default__3XaBP","title-bottom":"ResetPassword_title-bottom__1RsQx"}}},[[185,1,2]]]);
//# sourceMappingURL=main.99121643.chunk.js.map